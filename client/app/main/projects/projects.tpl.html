<!--
  Index of all active projects
  This template loads for the 'main.projects' state (app.js)
-->
<ion-view title="title" 
      left-buttons="leftButtons" 
      right-buttons="rightButtons"
      hide-back-button="true">

  <ion-content has-header="true">
    <!-- Search form -->
    <div class="item item-input-inset search-item">
      </i><input ng-model="liveSearch" type="search" value="" placeholder="search" class="topcoat-search-input">
    </div>

    <!-- Courtesy Message -->
    <div ng-show="!projects.length" class="courtesy-message">
      {{ courtesyMessage }}
    </div>

    <ion-list>  
      <!-- Project List -->
      <a class="item item-thumbnail-left-wide" 
         ng-repeat="project in projects | filter:liveSearch" 
         type="item-text-wrap" 
         href="#/main/projects/{{project.id}}">
        <img class="thumbnail" ng-src="{{ project.get('photo') }}">
        <h2>{{ project.get('title') }}</h2>
        <p>
          ${{ project.get('price') }}</br>
          <span ng-show="project.get('completed')">
            Completed
          </span>
          <span ng-hide="project.get('completed')">
            Due {{ project.get('end') | moment.fromNow }}
          </span>
        </p>
      </a>
    </ion-list>
  </ion-content>
</ion-view>
